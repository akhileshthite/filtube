{"version":3,"sources":["filtube.png","components/Navbar.js","components/Main.js","components/Footer.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Navbar","className","href","rel","src","filtube","width","height","alt","id","this","props","account","Identicon","toString","Component","Main","style","maxHeight","currentHash","controls","currentTitle","target","minWidth","onSubmit","event","preventDefault","title","videoTitle","value","uploadVideo","type","ref","accept","onChange","captureFile","input","placeholder","required","videos","map","video","key","onClick","changeVideo","hash","Footer","xmlns","fill","class","viewBox","d","fill-rule","require","config","token","process","console","log","client","Web3Storage","loaderStyle","position","top","left","transform","App","file","document","querySelector","setState","state","FilTube","loading","bind","loadWeb3","loadBlockchainData","window","ethereum","web3","Web3","request","method","currentProvider","alert","eth","getAccounts","accounts","abi","Contract","methods","videoCount","call","videosCount","i","latest","videoFile","put","files","wrapWithDirectory","cid","send","from","on","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.25b3be83.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/filtube.66ddfd3e.png\";","import React, { Component } from \"react\";\nimport Identicon from \"identicon.js\";\nimport filtube from \"../filtube.png\";\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <nav className=\"navbar navbar-dark fixed-top bg-white flex-md-nowrap p-1 shadow text-monospace\">\n        <div className=\"px-5\">\n          <a\n            className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n            href=\"/\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src={filtube}\n              width=\"30\"\n              height=\"30\"\n              className=\"d-inline-block align-top\"\n              alt=\"filtube logo\"\n            />\n            &nbsp;<span className=\"text-secondary\">FilTube</span>\n          </a>\n        </div>\n        <ul className=\"navbar-nav px-5\">\n          <li className=\"nav-item text-nowrap h5 d-none d-sm-none d-sm-block\">\n            <small className=\"text-secondary px-1\">\n              <small id=\"account\">{this.props.account}</small>\n            </small>\n            {this.props.account ? (\n              <img\n                className=\"ml-2\"\n                width=\"30\"\n                height=\"30\"\n                src={`data:image/png;base64,${new Identicon(\n                  this.props.account,\n                  30\n                ).toString()}`}\n                alt=\"filtube account address\"\n              />\n            ) : (\n              <span></span>\n            )}\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nclass Main extends Component {\n  render() {\n    return (\n      <div className=\"container-fluid text-monospace main p-2\">\n        <br></br>\n        &nbsp;\n        <br></br>\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <div\n              className=\"embed-responsive embed-responsive-16by9\"\n              style={{ maxHeight: \"720px\" }}\n            >\n              <video\n                src={`https://w3s.link/ipfs/${this.props.currentHash}`}\n                controls\n              ></video>\n            </div>\n            <div className=\"mt-3 ml-5\">\n              <h3>\n                <b>\n                  <i className=\"video-title\">{this.props.currentTitle}</i>\n                </b>\n              </h3>\n              <div className=\"mt-3\">\n                <p>\n                  IPFS CID:{\" \"}\n                  <span className=\"text-secondary\">\n                    {this.props.currentHash}\n                  </span>\n                </p>\n                <p>\n                  Share IPFS URL:{\" \"}\n                  <a\n                    href={`https://w3s.link/ipfs/${this.props.currentHash}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >{`https://w3s.link/ipfs/${this.props.currentHash}`}</a>\n                </p>\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"vide-feed col-md-2 border border-secondary overflow-auto text-center\"\n            style={{ maxHeight: \"1400px\", minWidth: \"175px\" }}\n          >\n            <h5 className=\"feed-title\">\n              <b>Video Feed 📺</b>\n            </h5>\n            <form\n              onSubmit={(event) => {\n                event.preventDefault();\n                const title = this.videoTitle.value;\n                this.props.uploadVideo(title);\n              }}\n            >\n              &nbsp;\n              <input\n                type=\"file\"\n                ref=\"fileUpload\"\n                accept=\".mp4, .mov, .mkv .ogg .wmv\"\n                onChange={this.props.captureFile}\n                style={{ width: \"250px\" }}\n              />\n              <div className=\"form-group mr-sm-2\">\n                <input\n                  id=\"videoTitle\"\n                  type=\"text\"\n                  ref={(input) => {\n                    this.videoTitle = input;\n                  }}\n                  className=\"form-control-sm mt-3 mr-3\"\n                  placeholder=\"Video title..\"\n                  required\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn border border-dark btn-primary btn-block btn-sm\"\n              >\n                Upload\n              </button>\n              &nbsp;\n            </form>\n            {this.props.videos.map((video, key) => {\n              return (\n                <div\n                  className=\"card mb-4 text-center bg-secondary mx-auto\"\n                  style={{ width: \"250px\", height: \"175px\" }}\n                  key={key}\n                >\n                  <div className=\"card-title bg-dark\">\n                    <small className=\"text-white\">\n                      <b>{video.title}</b>\n                    </small>\n                  </div>\n                  <div>\n                    <p\n                      onClick={() =>\n                        this.props.changeVideo(video.hash, video.title)\n                      }\n                    >\n                      <video\n                        src={`https://w3s.link/ipfs/${video.hash}`}\n                        style={{ width: \"200px\", height: \"110px\" }}\n                      />\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React from \"react\";\nimport \"./App.css\";\n\nexport default function Footer() {\n  return (\n    <div className=\"footer bg-white shadow\">\n      <section className=\"content-container\">\n        <div className=\"text-center p-5\">\n          <a\n            href=\"https://github.com/akhileshthite/filtube\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHub{\" \"}\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-github\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n            </svg>\n          </a>\n          <br />\n          <br />\n          <a\n            href=\"https://explorer.glif.io/address/0xb48c947d9e6a38bbb64823De5F79a16d48D3d3a8/?network=wallabynet\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Contract{\" \"}\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-box-arrow-up-right\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z\"\n              />\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z\"\n              />\n            </svg>\n          </a>\n          <br />\n          <br />\n          <a\n            href=\"https://ethglobal.com/showcase/filtube-qizv5\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            ETHGlobal submission{\" \"}\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-box-arrow-up-right\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z\"\n              />\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z\"\n              />\n            </svg>\n          </a><br/><br/>\n          Made with 💙 by FEVM Hacker ;D\n        </div>\n      </section>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Web3Storage } from \"web3.storage/dist/bundle.esm.min.js\";\nimport Navbar from \"./Navbar\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport Web3 from \"web3\";\nimport \"./App.css\";\nrequire(\"dotenv\").config();\n\nconst token = process.env.REACT_APP_API_TOKEN;\nconsole.log(token)\nconst client = new Web3Storage({ token });\n\nconst loaderStyle = {\n  position: \"fixed\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n};\n\nclass App extends Component {\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert(\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n      );\n    }\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3;\n    // Load account\n    const accounts = await web3.eth.getAccounts();\n    this.setState({ account: accounts[0] });\n    // Network ID\n    const networkId = \"31415\"\n    const networkData = networkId;\n    const abi = [\n      {\n        \"constant\": false,\n        \"inputs\": [\n          {\n            \"name\": \"_videoHash\",\n            \"type\": \"string\"\n          },\n          {\n            \"name\": \"_title\",\n            \"type\": \"string\"\n          }\n        ],\n        \"name\": \"uploadVideo\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": false,\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"name\": \"hash\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"name\": \"title\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"name\": \"author\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"VideoUploaded\",\n        \"type\": \"event\"\n      },\n      {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n          {\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"videoCount\",\n        \"outputs\": [\n          {\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"constant\": true,\n        \"inputs\": [\n          {\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"videos\",\n        \"outputs\": [\n          {\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"name\": \"hash\",\n            \"type\": \"string\"\n          },\n          {\n            \"name\": \"title\",\n            \"type\": \"string\"\n          },\n          {\n            \"name\": \"author\",\n            \"type\": \"address\"\n          }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }\n    ]\n    const contractAddress = \"0xb48c947d9e6a38bbb64823De5F79a16d48D3d3a8\"\n    if (networkData) {\n      const FilTube = new web3.eth.Contract(abi, contractAddress);\n      this.setState({ FilTube });\n      const videosCount = await FilTube.methods.videoCount().call();\n      this.setState({ videosCount });\n      // Load videos, sort by newest\n      for (var i = videosCount; i >= 1; i--) {\n        const video = await FilTube.methods.videos(i).call();\n        this.setState({\n          videos: [...this.state.videos, video],\n        });\n      }\n      //Set latest video with title to view as default\n      const latest = await FilTube.methods.videos(videosCount).call();\n      this.setState({\n        currentHash: latest.hash,\n        currentTitle: latest.title,\n      });\n      this.setState({ loading: false });\n    } else {\n      window.alert(\"FilTube contract not deployed to detected network.\");\n    }\n  }\n\n  captureFile = (event) => {\n    event.preventDefault();\n    const file = document.querySelector('input[type=\"file\"]');\n    return this.setState({ file: file });\n  };\n\n  async uploadVideo(title) {\n    console.log(\"Submitting file to IPFS...\");\n    const videoFile = this.state.file;\n    //adding file to the IPFS\n    const cid = await client.put(videoFile.files, { wrapWithDirectory: false });\n    this.setState({ loading: true });\n    this.state.FilTube.methods\n      .uploadVideo(cid, title)\n      .send({ from: this.state.account })\n      .on(\"transactionHash\", (hash) => {\n        this.setState({ loading: false });\n      });\n  }\n\n  changeVideo = (hash, title) => {\n    this.setState({ currentHash: hash });\n    this.setState({ currentTitle: title });\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      account: \"\",\n      FilTube: null,\n      videos: [],\n      loading: true,\n      currentHash: null,\n      currentTitle: null,\n    };\n\n    this.uploadVideo = this.uploadVideo.bind(this);\n    this.captureFile = this.captureFile.bind(this);\n    this.changeVideo = this.changeVideo.bind(this);\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar account={this.state.account} />\n        {this.state.loading ? (\n          <div id=\"loader\" style={loaderStyle}>\n            <p>Loading...</p>\n          </div>\n        ) : (\n          <>\n            <Main\n              videos={this.state.videos}\n              account={this.state.account}\n              uploadVideo={this.uploadVideo}\n              captureFile={this.captureFile}\n              changeVideo={this.changeVideo}\n              currentHash={this.state.currentHash}\n              currentTitle={this.state.currentTitle}\n            />\n            <Footer />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}